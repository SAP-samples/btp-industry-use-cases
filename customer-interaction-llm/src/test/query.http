@server = http://localhost:4004
#@me = Authorization: Basic {{$processEnv USER}}:

### Service Document
GET {{server}}/admin

### Service $metadata document
GET {{server}}/admin/$metadata

### Get CustomerInteraction
GET {{server}}/admin/CustomerInteraction?
&$expand=inboundMsgs,outboundMsgs
# &$filter=ID eq 1


### ------------------------------------------------------------------------
# Create a new CustomerInteraction with an IncomingCustomerMessage
POST {{server}}/admin/CustomerInteraction
Content-Type: application/json
Accept: application/json

{ "title" :"Great coffee machine",
"category_code" :"PRD",
"inboundMsgs": [
    {
        "contact_ID": 1,
        "customer_ID": "CST001",
        "inboundTextMsg": "I have purchased a Breville coffee machine the Barista Expressâ„¢ Impress recently, which make me fine espresso. Love it",
        "channel_code": "WEB"
        }
    ]
}

### ------------------------------------------------------------------------
# Create a subsequence InboundCustomerMessage to a given CustomerInteraction
# (send that three times to get out-of-stock message)
POST {{server}}/admin/InboundCustomerMessage
Content-Type: application/json
Accept: application/json

{
    "interaction_ID": 3,
    "contact_ID": 1,
    "customer_ID": "CST001",
    "inboundTextMsg": "If no TV framework in oak color available, then a black one is fine.",
    "channel_code": "WEB"
}

### ------------------------------------------------------------------------
# Submit Order as authenticated user
# (send that three times to get out-of-stock message)
POST {{server}}/admin/Contact
Content-Type: application/json
Accept: application/json

{ 
    "name" :"yatseali"
}

### ------------------------------------------------------------------------
# Sentiment Analysis
POST {{server}}/llm-proxy/sentimentAnalyse
Content-Type: application/json
Accept: application/json

{ 
    "text": "Putting our review here as our review on the breville website just keeps on being taken down. Is it because we are not providing a good review about this product?\r\nAnyway .... Bought this coffee machine last Nov 2022. It's only 3 months old and it already started leaking water. Called Harvey Norman where we bought it hoping that we can get a replacement as it is not even 3 months old. We were advised to call Breville Australia 1300 139 798 to get our coffee machine fixed. Spoke to Breville rep and he was very professional. We asked if the unit can be replaced as it is not even 3 months old. He advised 'No' and that it needs to be fixed. Anyway, cut the story short ... he gave me a work order number and we have just dropped off our unit to be fixed.\r\nBest part, we were told by the repairer that it will take 2 weeks to get our coffee machine back (looks like back to buying coffee from our local again for the next 2 weeks). For a unit that cost thousand of dollars and breaking down within 3 months, not impressed at all.\r\nPurchased in Nov 2022 at Harvey Norman.\r\n Product is used: Several times a week"
}


### ------------------------------------------------------------------------
# Submit Order as authenticated user
# (send that three times to get out-of-stock message)
POST {{server}}/llm-proxy/invokeLLM
Content-Type: application/json
Accept: application/json

{ 
    "use_case" : "customer-message-process",
    "text": "Putting our review here as our review on the breville website just keeps on being taken down. Is it because we are not providing a good review about this product?\r\nAnyway .... Bought this coffee machine last Nov 2022. It's only 3 months old and it already started leaking water. Called Harvey Norman where we bought it hoping that we can get a replacement as it is not even 3 months old. We were advised to call Breville Australia 1300 139 798 to get our coffee machine fixed. Spoke to Breville rep and he was very professional. We asked if the unit can be replaced as it is not even 3 months old. He advised 'No' and that it needs to be fixed. Anyway, cut the story short ... he gave me a work order number and we have just dropped off our unit to be fixed.\r\nBest part, we were told by the repairer that it will take 2 weeks to get our coffee machine back (looks like back to buying coffee from our local again for the next 2 weeks). For a unit that cost thousand of dollars and breaking down within 3 months, not impressed at all.\r\nPurchased in Nov 2022 at Harvey Norman.\r\n Product is used: Several times a week"
}

### ------------------------------------------------------------------------
# Update a given CustomerInteraction by override its inboundMsgs
# Danger!!! Don't use it.
PATCH {{server}}/admin/CustomerInteraction/3
Content-Type: application/json
Accept: application/json

{ 
    "inboundMsgs": [
    {
        "contact_ID": 1,
        "customer_ID": "CST001",
        "inboundTextMsg": "If no TV framework in oak color available, then a black one is fine.",
        "channel_code": "WEB"
    }
  ]
}